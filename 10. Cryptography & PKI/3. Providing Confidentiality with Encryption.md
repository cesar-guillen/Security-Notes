Encryption provides confidentiality and prevents unauthorized disclosure of data. Plaintext is human- readable data. There are three types of states data can be in:

1. **Data at rest**: Data that is stored on media, it is common to encrypt sensitive data. Like [[3. Protecting Data#Database Security|columns in a database]]
2. **Data in transit**: Data that is being sent over the network. it is also common to encrypt sensitive data. For example credit cards in HTTPs
3. **Data in use**: Data that is being used by a computer. Because the computer needs to read and process the data it must be in plain text. 

There are two primary encryption methods which are, *symmetric* and *asymmetric* encryption. Symmetric encryption encrypts and decrypts data with the same key. Asymmetric encryption encrypts and decrypts data using a matched key pair of a public key and a private key. These encryption methods include two elements: 

* **Algorithm**. The algorithm performs mathematical calculations on data. The algorithm is always the same. 
* **Key**. The key is a number that provides variability for the encryption. It is either kept private and/or changed frequently.

| Algorithm                  | Type       | Block/Stream    | Key Size                    | Security Status                     |
| -------------------------- | ---------- | --------------- | --------------------------- | ----------------------------------- |
| **AES**                    | Symmetric  | Block (128-bit) | 128, 192, 256-bit           | ✅ **Excellent** - Current standard  |
| **ChaCha20**               | Symmetric  | Stream          | 256-bit                     | ✅ **Excellent** - Modern standard   |
| **RSA**                    | Asymmetric | Block (varies)  | 2048-4096-bit               | ⚠️ **Acceptable** (2048-bit+)       |
| **ECDSA** (Elliptic Curve) | Asymmetric | N/A             | 256-521-bit                 | ✅ **Excellent** - Modern standard   |
| **3DES** (Triple DES)      | Symmetric  | Block (64-bit)  | 168-bit (effective 112-bit) | ❌ **Outdated** - Deprecated         |
| **DES**                    | Symmetric  | Block (64-bit)  | 56-bit                      | ❌ **Broken** - Completely insecure  |
| **Blowfish**               | Symmetric  | Block (64-bit)  | 32-448-bit                  | ⚠️ **Mostly Outdated**              |
| **Twofish**                | Symmetric  | Block (128-bit) | 128, 192, 256-bit           | ✅ **Excellent** (but less used)     |
| **RC4**                    | Symmetric  | Stream          | 40-2048-bit                 | ❌ **Broken** - Severely compromised |
| **Camellia**               | Symmetric  | Block (128-bit) | 128, 192, 256-bit           | ✅ **Excellent** - AES equivalent    |
| **EdDSA** (Ed25519)        | Asymmetric | N/A             | 256-bit                     | ✅ **Excellent** - Modern standard   |

## Symmetric Encryption
*Symmetric encryption* uses the same key to encrypt and decrypt data. For example, when transmitting encrypted data, symmetric encryption algorithms use the same key to encrypt and decrypt data at both ends of the transmission media.

Most symmetric algorithms encrypt data either in a block cipher or a stream cipher. The difference is in how they divide data. 

* **Block cipher**: encrypts data in specific-sized blocks. The block cipher divides large files or messages into these blocks and then encrypts each block.
* **Steam cipher**: Stream ciphers encrypt data a single bit, or a single byte, at a time in a stream. Stream ciphers are more efficient than block ciphers when encrypting data in a continuous stream. Keys should never be reused in stream ciphers.

## Asymmetric Encryption
*Asymmetric encryption* uses two keys in a matched pair to encrypt and decrypt data, a *public key* and a *private key*. 

* If the public key encrypts information, only the matching private key can decrypt the same information.
* If the private key encrypts information, only the matching public key can decrypt the same information. 
* Private keys are always kept private and never shared. 
* Public keys are freely shared by embedding them in a shared digital certificate.

Although asymmetric encryption is strong, it is also very resource intensive. It takes a significant amount of processing power to encrypt and decrypt data compared with symmetric encryption. Most cryptographic protocols that use asymmetric encryption only use it for key exchange.

## Key Exchange
Key exchange is a cryptographic method used to share cryptographic keys between two entities. In this context, asymmetric encryption uses key exchange to share a symmetric key. The cryptographic protocol then uses the symmetric encryption to encrypt and decrypt data because symmetric encryption is much more efficient.

## Certificates
A key element of asymmetric encryption is a *digital certificate*. It's a digital document that typically includes the public key and information on the owner of the certificate. *[[5. Exploring PKI Components#Certificate Authority|Certificate authorities (CAs)]]* issue and manage certificates. Digital certificates are used for a variety of purposes beyond just asymmetric encryption, including authentication and digital signatures.

Common elements within a digital certificate include:

* **Serial Number**: Identifies the certificate issued by the CA. It revoked, the CA can place the number in a *certificate revocation list (CRL)*.
* **Issuer**: Identifies the CA that issued the certificate.
* **Validity dates**: Certificates include "Valid from:" and "Valid to" dates.
* **Subject**: Identifies the owner of the certificate.
* **Public key**: Public key
* **Key usage**: Some certificates are only for encryption or authentication. Other have more uses.
* **Certificate attributes**: Identifies the issuer using Distinguished Name attributes some of them are:
	* **CN**: Common name, or FQDN
	* **O**: Organization
	* **L**: Locality
	* **S**: State
	* **C**: Country Name

## Ephemeral Keys
*Ephemeral* refers to something that lasts a short time. In the context of cryptography, an ephemeral key has a ***short lifetime*** and is re-created for each session. In contrast, a static key is semipermanent and stays the same over a long period of time.

*Perfect forward secrecy* is an important characteristic that ephemeral keys comply with in asymmetric encryption. A system will generate random public keys for each session and it will not use a deterministic algorithm to do so, same input, different output. This is done so systems do not reuse keys. If a key is compromised it does not compromise previous communications

## Elliptic Curve Cryptography
*Elliptic curve cryptography (ECC)* doesn’t take as much processing power as other cryptographic methods. It uses mathematical equations to formulate an elliptical curve. It then graphs points on the curve to create keys. A key benefit is that ECC keys can be much smaller when compared with non-ECC keys. The *Elliptic Curve Digital Signature Algorithm (ECDSA)* can also be used for digital signatures. ECC if often used in low power devices.

## Obfuscation
Sometimes we don’t actually need to encrypt data, we just want to hide that data in plain sight or make it impossible for anyone to retrieve sensitive information from data that we’ve protected. Obfuscation is the act of deliberately making something unclear, confusing, or difficult to understand. It is often used to conceal, distort, or obscure information, ideas, or intentions to mislead or deceive.

* **Steganography** hides messages or data within other files. 
* **Tokenization** replaces sensitive data with non-sensitive tokens, retaining essential information without revealing sensitive details. The original card number is securely stored in a separate database or token vault, which maps tokens back to their corresponding original data.
* **Masking** partially or fully conceals sensitive data with characters, symbols, or other data.